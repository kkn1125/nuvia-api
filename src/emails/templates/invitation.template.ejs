<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>초대 메일</title>
    <style>
      /* 모든 이메일 클라이언트에서 일관된 렌더링을 위한 기본 스타일 */
      body,
      table,
      td,
      p,
      a,
      li,
      blockquote {
        -webkit-text-size-adjust: 100%;
        -ms-text-size-adjust: 100%;
      }
      table,
      td {
        mso-table-lspace: 0pt;
        mso-table-rspace: 0pt;
      }
      img {
        -ms-interpolation-mode: bicubic;
        border: 0;
        height: auto;
        line-height: 100%;
        outline: none;
        text-decoration: none;
      }

      /* 메인 컨테이너 스타일 */
      .email-container {
        max-width: 600px;
        margin: 0 auto;
        background-color: #ffffff;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
        line-height: 1.6;
        color: #333333;
      }

      /* 헤더 스타일 */
      .header {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        padding: 40px 30px;
        text-align: center;
        border-radius: 8px 8px 0 0;
      }

      .header h1 {
        color: #ffffff;
        margin: 0;
        font-size: 28px;
        font-weight: 600;
        letter-spacing: -0.5px;
      }

      /* 메인 콘텐츠 스타일 */
      .content {
        padding: 40px 30px;
        background-color: #ffffff;
      }

      .greeting {
        font-size: 18px;
        color: #333333;
        margin-bottom: 20px;
        font-weight: 500;
      }

      .message {
        font-size: 16px;
        color: #666666;
        margin-bottom: 30px;
        line-height: 1.7;
      }

      /* CTA 버튼 스타일 - 링크 토큰 방식 선택 */
      .cta-container {
        text-align: center;
        margin: 40px 0;
      }

      .cta-button {
        display: inline-block;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: #ffffff !important;
        text-decoration: none;
        padding: 16px 32px;
        border-radius: 8px;
        font-size: 16px;
        font-weight: 600;
        letter-spacing: 0.5px;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
      }

      .cta-button:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
      }

      /* 보안 정보 박스 */
      .security-info {
        background-color: #f8f9fa;
        border: 1px solid #e9ecef;
        border-radius: 6px;
        padding: 20px;
        margin: 30px 0;
      }

      .security-info h3 {
        margin: 0 0 10px 0;
        font-size: 14px;
        color: #495057;
        font-weight: 600;
      }

      .security-info p {
        margin: 0;
        font-size: 13px;
        color: #6c757d;
        line-height: 1.5;
      }

      /* 만료 정보 */
      .expiry-info {
        text-align: center;
        color: #dc3545;
        font-size: 14px;
        margin: 20px 0;
        font-weight: 500;
      }

      /* 푸터 스타일 */
      .footer {
        background-color: #f8f9fa;
        padding: 30px;
        text-align: center;
        border-radius: 0 0 8px 8px;
        border-top: 1px solid #e9ecef;
      }

      .footer p {
        margin: 0;
        font-size: 13px;
        color: #6c757d;
        line-height: 1.5;
      }

      /* 모바일 반응형 */
      @media only screen and (max-width: 600px) {
        .email-container {
          width: 100% !important;
          margin: 0 !important;
        }

        .header,
        .content,
        .footer {
          padding: 20px !important;
        }

        .header h1 {
          font-size: 24px !important;
        }

        .cta-button {
          padding: 14px 24px !important;
          font-size: 15px !important;
        }
      }
    </style>
  </head>
  <body style="margin: 0; padding: 20px; background-color: #f5f5f5">
    <div class="email-container">
      <!-- 헤더 -->
      <div class="header">
        <h1>🎉 초대장이 도착했습니다</h1>
      </div>

      <!-- 메인 콘텐츠 -->
      <div class="content">
        <div class="greeting">안녕하세요, <%= inviteeEmail %>님!</div>

        <div class="message">
          <strong><%= inviterName %></strong>님이 <strong><%= organizationName || '우리 플랫폼' %></strong>에 초대하셨습니다.<br />
          아래 버튼을 클릭하여 계정을 생성하고 함께 시작해보세요.
        </div>

        <!-- CTA 버튼 - 링크에 토큰을 포함한 방식 -->
        <!--
                링크 토큰 방식을 선택한 이유:
                1. UX 측면: 사용자가 별도로 코드를 입력할 필요 없이 원클릭으로 인증 가능
                2. 보안 측면: 토큰에 만료시간을 설정하여 보안성 확보
                3. 추적 가능: 클릭 여부, 시간 등을 서버에서 추적 가능
                4. 모바일 친화적: 모바일에서 코드 입력보다 링크 클릭이 더 편리
                5. 표준 방식: 대부분의 서비스에서 사용하는 일반적인 패턴
            -->
        <div class="cta-container">
          <a href="<%= invitationUrl %>" class="cta-button"> 초대 수락하기 </a>
        </div>

        <div class="expiry-info">⏰ 이 초대장은 <strong>24시간</strong> 후에 만료됩니다.</div>

        <!-- 보안 정보 -->
        <div class="security-info">
          <h3>🔒 보안 안내</h3>
          <p>이 이메일을 요청하지 않으셨다면 무시하셔도 됩니다. 이 링크는 24시간 후 자동으로 만료되며, 한 번만 사용할 수 있습니다.</p>
        </div>

        <div class="message" style="margin-top: 30px; font-size: 14px; color: #888">
          문제가 있으시거나 궁금한 점이 있으시면 언제든지 문의해 주세요.<br />
          감사합니다.
        </div>
      </div>

      <!-- 푸터 -->
      <div class="footer">
        <p>
          © 2024 <%= organizationName || 'Your Company' %>. All rights reserved.<br />
          이 이메일은 <%= inviterEmail %>에 의해 발송되었습니다.
        </p>
      </div>
    </div>
  </body>
</html>
